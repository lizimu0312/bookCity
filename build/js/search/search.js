"use strict";define(["jquery","handle","text!template/search-shelf.html"],function(e,s,i){var n=window.localStorage,a=JSON.parse(n.getItem("searchinfo"))||[];function c(){s(e(".historytext").html(),a,".history-list",0)}c(),e.ajax({url:"/api/searchKey",dataType:"json",success:function(t){s(e(".text").html(),t,".search-init")}}),e(".search-input__btn").on("click",function(){var t=e(this).prev().val();""!=t&&(a.unshift(t),n.setItem("searchinfo",JSON.stringify(a)),c(),e.ajax({url:"/api/result?value="+t,dataType:"json",success:function(t){s(i,t.cont,".search-cont")}}))}),e(".history-list").on("click","em",function(){var t=e(this).data("ind");a.splice(t,1),n.setItem("searchinfo",JSON.stringify(a)),c()})});